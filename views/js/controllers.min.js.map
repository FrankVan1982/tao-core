{"version":3,"file":"routes.js","sources":["routes.js","../tao/controller/RdfImExport/index.js","../tao/controller/list/index.js","../tao/controller/login.js","../tao/controller/main.js","../tao/controller/routes.js","../tao/controller/settings/extensionManager.js","../tao/controller/users/add.js","../tao/controller/users/disable-edit.js","../tao/controller/users/index.js"],"names":["define","Main","actions","index","getSectionActions","getSectionTrees","ExtensionsManager","Lists","RdfImExport","Users","deps","add","require","$","_","__","helpers","feedback","$form","$submitter","find","$sent","attr","off","on","e","preventDefault","parseInt","val","$iframeContainer","params","instances","each","serializeArray","param","name","indexOf","push","substring","value","length","error","namespaces","url","_url","$iframe","src","hide","empty","append","_addSquareBtn","title","icon","$listToolBar","$btn","class","start","saveUrl","delListUrl","delEltUrl","click","$listSaveBtn","$listNewBtn","this","uri","data","$listContainer","$listForm","$listTitleBar","wrapInner","$labelEdit","text","html","replaceWith","elementList","addClass","prepend","sortable","axis","opacity","placeholder","tolerance","update","map","id","newName","replace","postJson","closest","response","saved","success","_load","getMainContainerSelector","level","children","confirm","element","parent","deleted","remove","$list","parents","module","versionWarning","conf","type","context","$fields","init","eq","focus","message","config","uiForm","section","treeFactory","sectionHeight","loadingBar","nav","$doc","document","ajaxSend","ajaxComplete","stop","window","scrollTo","panel","$treeElt","$actionBar","rootNode","treeUrl","root_url","test","serverParameters","extension","shownExtension","perspective","shownStructure","classUri","undefined","selectClass","selectInstance","moveInstance","delete","setHeights","show","loadContentBlock","getDependencies","dependencies","ext","concat","getUnique","orig","a","i","inArray","progressConsole","msg","prop","scrollTop","installNextExtension","toInstall","indexCurrentToInstall","ajax","dataType","loaded","slideUp","$tr","appendTo","$orig","slideDown","styleTables","noAvailableExtensions","animate","width","percentByExt","hasNextExtensionToInstall","installError","info","postInstall","backgroundColor","done","setTimeout","location","reload","removeClass","$noAvailableExtElement","ext_installed","event","stopPropagation","$installButton","split","join","dialog","modal","height","buttons","alert","users","checkLogin","loginId","exit","structure","get","disable","editUser","enable","removeUser","datatable","$userList","edit","model","label"],"mappings":"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","sourcesContent":["/**\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2014 (original work) Open Assessment Technologies SA (under the project TAO-PRODUCT);\n * \n * \n */\n\n//@see http://forge.taotesting.com/projects/tao/wiki/Front_js\ndefine('controller/routes',[],function(){\n    'use strict';\n\n    return {\n        'Main': {\n            'actions' : {\n                'index' : 'controller/main',\n                'getSectionActions' : 'controller/main/actions',\n                'getSectionTrees' : 'controller/main/trees'\n            }\n        },\n        'ExtensionsManager' : {\n            'actions' : {\n                'index' : 'controller/settings/extensionManager'\n            }\n        },\n        'Lists' : {\n            'actions' : {\n                'index' : 'controller/list/index'\n            }\n        },\n        'RdfImExport' : {\n            'actions' : {\n                'index' : 'controller/RdfImExport/index'\n            }\n        },\n        'Users' : {\n            'deps' : 'controller/users/disable-edit',\n            'actions' : {\n                'index' : 'controller/users/index',\n                'add'   : 'controller/users/add'\n            }\n        }\n    };\n});\n\n"," require(['jquery', 'lodash', 'i18n', 'helpers', 'ui/feedback', 'uiForm'], function($, _, __, helpers, feedback, uiForm){\n\n    var $form = $('#export'),\n        $submitter = $form.find('.form-submitter'),\n        $sent = $form.find(\":input[name='\" + $form.attr('name') + \"_sent']\");\n\n    //overwrite the submit behaviour\n    $submitter.off('click').on('click', function(e){\n\n        e.preventDefault();\n\n        if(!parseInt($sent.val())){\n            return;\n        }\n\n        //prepare download params\n        var $iframeContainer = $('#iframe-container'),\n            params = {},\n            instances = [];\n\n        _.each($form.serializeArray(), function(param){\n            if(param.name.indexOf('rdftpl_ns_') === 0){\n                instances.push(param.name.substring(10));\n            }else{\n                params[param.name] = param.value;\n            }\n        });\n        if (!instances.length) {\n            feedback().error(__(\"Please select alteast one namespace\"));\n            return;\n        }\n        params.namespaces = instances;\n\n        //build download url\n        var url = helpers._url('export', 'RdfImExport', 'tao', params);\n\n        //use the iframe to embed download in the page\n        var $iframe = $('<iframe>', {src : url}).hide();\n        $iframeContainer.empty().append($iframe);\n\n    });\n\n});\ndefine(\"tao/controller/RdfImExport/index\", function(){});\n\n","define('tao/controller/list/index',['jquery', 'i18n', 'helpers', 'ui/feedback'], function ($, __, helpers, feedback) {\n    'use strict';\n\n    function _addSquareBtn(title, icon, $listToolBar) {\n        var $btn = $('<button>', { 'class': 'btn-info small lft ' +  'icon-'+ icon, title: __(title) });\n        $listToolBar.append($btn);\n        return $btn;\n    }\n\n    return {\n\n        start: function () {\n\n            var saveUrl = helpers._url('saveLists', 'Lists', 'tao');\n            var delListUrl = helpers._url('removeList', 'Lists', 'tao');\n            var delEltUrl = helpers._url('removeListElement', 'Lists', 'tao');\n\n            $(\".list-edit-btn\").click(function () {\n                var $btn = $(this),\n                    uri = $btn.data('uri'),\n                    $listContainer = $(\"#list-data_\" + uri ),\n                // form must be on the inside rather than on the outside as it has been in 2.6\n                    $listForm     = $listContainer.find('form'),\n                    $listTitleBar = $listContainer.find('.container-title h6'),\n                    $listToolBar  = $listContainer.find('.data-container-footer'),\n                    $listSaveBtn,\n                    $listNewBtn;\n\n                if (!$listForm.length) {\n\n                    $listForm = $('<form>');\n                    $listContainer.wrapInner($listForm);\n                    $listContainer.find('form').append('<input type=\"hidden\" name=\"uri\" value=\"' + uri + '\" />');\n\n                    var $labelEdit = $(\"<input type='text' name='label' value='\" + $listTitleBar.text() + \"'/>\");\n                    $listTitleBar.html($labelEdit);\n\n                    if ($listContainer.find('.list-element').length) {\n                        $listContainer.find('.list-element').replaceWith(function () {\n                            return \"<input type='text' name='\" + $(this).attr('id') + \"' value='\" + $(this).text() + \"' />\";\n                        });\n                    }\n\n                    var elementList = $listContainer.find('ol');\n                    elementList.addClass('sortable-list');\n                    elementList.find('li').prepend('<span class=\"icon-grip\" ></span>');\n                    elementList.find('li').append('<span class=\"icon-checkbox-crossed list-element-delete-btn\" style=\"cursor:pointer;\" ></span>');\n\n                    elementList.sortable({\n                        axis: 'y',\n                        opacity: 0.6,\n                        placeholder: 'ui-state-error',\n                        tolerance: 'pointer',\n                        update: function (event, ui) {\n                            var map = {};\n                            $.each($(this).sortable('toArray'), function (index, id) {\n                                map[id] = 'list-element_' + (index + 1);\n                            });\n                            $(this).find('li').each(function () {\n                                var id = $(this).attr('id');\n                                if (map[id]) {\n                                    $(this).attr('id', map[id]);\n                                    var newName = $(this).find('input').attr('name').replace(id, map[id]);\n                                    $(this).find('input').attr('name', newName);\n                                }\n                            });\n                        }\n                    });\n\n                    $listSaveBtn = _addSquareBtn('Save element', 'save', $listToolBar);\n                    $listSaveBtn.on('click', function () {\n                        $.postJson(\n                            saveUrl,\n                            $(this).closest('form').serializeArray(),\n                            function (response) {\n                                if (response.saved) {\n                                    feedback().success(__('\"list saved\"'));\n                                    helpers._load(helpers.getMainContainerSelector(), helpers._url('index', 'Lists', 'tao'));\n                                }else{\n                                    feedback().error(__('List not saved'));\n                                }\n                            }\n                        );\n                        return false;\n                    });\n\n                    $listNewBtn = _addSquareBtn('New element', 'add', $listToolBar);\n                    $listNewBtn.click(function () {\n                        var level = $(this).closest('form').find('ol').children().length + 1;\n                        $(this).closest('form').find('ol').append(\n                            \"<li id='list-element_\" + level + \"'>\" +\n                            \"<span class='icon-grip' ></span>\" +\n                            \"<input type='text' name='list-element_\" + level + \"_' />\" +\n                            \"<span class='icon-add list-element-delete-btn' ></span>\" +\n                            \"</li>\");\n                        return false;\n                    });\n                }\n\n                $(\".list-element-delete-btn\").click(function () {\n                    var $btn = $(this),\n                        uri = $btn.data('uri');\n                    if (confirm(__(\"Please confirm you want to delete this list element.\"))) {\n                        var element = $(this).parent();\n                        uri = element.find('input:text').attr('name').replace(/^list\\-element\\_([1-9]*)\\_/, '');\n                        $.postJson(\n                            delEltUrl,\n                            {uri: uri},\n                            function (response) {\n                                if (response.deleted) {\n                                    element.remove();\n                                    feedback().success(__('Element deleted'));\n                                }else{\n                                    feedback().error(__('Element not deleted'));\n                                }\n                            }\n                        );\n                    }\n                });\n            });\n\n            $('.list-delete-btn').click(function () {\n                if (confirm(__(\"Please confirm you want to delete this list. This operation cannot be undone.\"))) {\n                    var $btn = $(this),\n                        uri = $btn.data('uri'),\n                        $list = $(this).parents(\".data-container\");\n                    $.postJson(\n                        delListUrl,\n                        {uri: uri},\n                        function (response) {\n                            if (response.deleted) {\n                                feedback().success(__('List deleted'));\n                                $list.remove();\n                            }else{\n                                feedback().error(__('List not deleted'));\n                            }\n                        }\n                    );\n                }\n            });\n        }\n    };\n});\n","/**\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2014 (original work) Open Assessment Technologies SA (under the project TAO-PRODUCT);\n */\n\n/**\n * The controller dedicated to the login page.\n * @author Bertrand Chevrier <bertrand@taotesting.com>\n */\ndefine('tao/controller/login',[\n    'jquery',\n    'i18n',\n    'module',\n    'ui/feedback',\n    'layout/version-warning'\n], function ($, __, module, feedback,  versionWarning) {\n    'use strict';\n\n    var conf, type, context = $('.entry-pages-container'), $fields = $();\n\n    versionWarning.init();\n\n    $('input[type=\"text\"]').eq(0).focus();\n\n    // empty $fields sent\n    if(context.find('.form-error').length){\n        conf = {\n            message: {\n                error: __('All fields are required')\n            }\n        };\n        context.find(':input').each(function() {\n            if(!this.value) {\n                $fields = $fields.add($(this));\n            }\n        });\n    }\n    // if the module config contains a message object\n    else {\n        conf = module.config();\n    }\n\n    // any error/info creates feedback\n    if (conf.message) {\n        $fields = context.find(':input');\n        for (type in conf.message) {\n            if (!conf.message[type]) {\n                continue;\n            }\n            feedback()[type](conf.message[type]);\n            $fields.addClass(type);\n        }\n    }\n\n});\n\n","/**\n * @author Bertrand Chevrier <bertrand@taotesting.com>\n */\ndefine('tao/controller/main',[\n    'jquery',\n    'i18n',\n    'context',\n    'helpers',\n    'uiForm',\n    'layout/section',\n    'layout/actions',\n    'layout/tree',\n    'layout/version-warning',\n    'layout/section-height',\n    'layout/loading-bar',\n    'layout/nav'\n],\nfunction ($, __, context, helpers, uiForm, section, actions, treeFactory, versionWarning, sectionHeight, loadingBar, nav) {\n    'use strict';\n\n    /**\n     * This controller initialize all the layout components used by the backend : sections, actions, tree, loader, etc.\n     * @exports tao/controller/main\n     */\n    return {\n        start : function(){\n\n            var $doc = $(document);\n\n            versionWarning.init();\n\n            //just before an ajax request\n            $doc.ajaxSend(function () {\n                loadingBar.start();\n            });\n\n            //when an ajax request complete\n            $doc.ajaxComplete(function () {\n                loadingBar.stop();\n            });\n\n            //navigation bindings\n            nav.init();\n\n            //initialize sections \n            section.on('activate', function(section){\n\n                window.scrollTo(0,0);\n\n                // quick work around issue in IE11\n                // IE randomly thinks there is no id and throws an error\n                // I know it's not logical but with this 'fix' everything works fine\n                if(!section || !section.id) {\n                    return;\n                }\n\n                context.section = section.id;\n               \n                //initialize actions \n                actions.init(section.panel);\n\n                switch(section.type){\n                case 'tree':\n                    section.panel.addClass('content-panel');\n                    sectionHeight.init(section.panel);\n\n                    //set up the tree\n                    $('.taotree', section.panel).each(function(){\n                        var $treeElt = $(this),\n                            $actionBar = $('.tree-action-bar-box', section.panel);\n\n                        var rootNode = $treeElt.data('rootnode');\n                        var treeUrl = context.root_url;\n                        if(/\\/$/.test(treeUrl)){\n                            treeUrl += $treeElt.data('url').replace(/^\\//, '');\n                        } else {\n                            treeUrl += $treeElt.data('url');\n                        }\n                        treeFactory($treeElt, treeUrl, {\n                            serverParameters : {\n                                extension   : context.shownExtension,\n                                perspective : context.shownStructure,\n                                section     : context.section,\n                                classUri\t: rootNode ? rootNode : undefined\n                            },\n                            actions : {\n                                'selectClass'    : $treeElt.data('action-selectclass'),\n                                'selectInstance' : $treeElt.data('action-selectinstance'),\n                                'moveInstance'   : $treeElt.data('action-moveinstance'),\n                                'delete'         : $treeElt.data('action-delete')\n                            }\n                        });\n                        $treeElt.on('ready.taotree', function() {\n                            $actionBar.addClass('active');\n                            sectionHeight.setHeights(section.panel);\n                        });\n                    });\n\n                    $('.navi-container', section.panel).show();\n                    break;\n                case 'content' : \n\n                    //or load the content block\n                    this.loadContentBlock();\n                    \n                    break;\n                }\n            })\n            .init();\n\n\n            //initialize legacy components\n            helpers.init();\n            uiForm.init();\n        }\n    };\n});\n\n\n","/**\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2014 (original work) Open Assessment Technologies SA (under the project TAO-PRODUCT);\n * \n * \n */\n\n//@see http://forge.taotesting.com/projects/tao/wiki/Front_js\ndefine('tao/controller/routes',[],function(){\n    'use strict';\n\n    return {\n        'Main': {\n            'actions' : {\n                'index' : 'controller/main',\n                'getSectionActions' : 'controller/main/actions',\n                'getSectionTrees' : 'controller/main/trees'\n            }\n        },\n        'ExtensionsManager' : {\n            'actions' : {\n                'index' : 'controller/settings/extensionManager'\n            }\n        },\n        'Lists' : {\n            'actions' : {\n                'index' : 'controller/list/index'\n            }\n        },\n        'RdfImExport' : {\n            'actions' : {\n                'index' : 'controller/RdfImExport/index'\n            }\n        },\n        'Users' : {\n            'deps' : 'controller/users/disable-edit',\n            'actions' : {\n                'index' : 'controller/users/index',\n                'add'   : 'controller/users/add'\n            }\n        }\n    };\n});\n\n","define('tao/controller/settings/extensionManager',['jquery', 'i18n', 'context', 'helpers', 'ui/feedback'], function($, __, context, helpers, feedback){\n\n    var ext_installed = [];\n    var toInstall = [];\n    var indexCurrentToInstall = -1;\n    var percentByExt = 0;\n    var installError = 0;\n\n    function getDependencies(extension) {\n            var dependencies = [];\n            $('#' + extension + ' .dependencies li:not(.installed)').each(function() {\n                    var ext = $(this).attr('rel');\n                    var deps = getDependencies(ext);\n                    deps.push(ext);\n                    dependencies = dependencies.concat(deps);\n            });\n            return dependencies;\n    }\n\n    //Give an array with unique values\n    function getUnique(orig){\n            var a = [];\n            for (var i = 0; i < orig.length; i++) {\n                    if ($.inArray(orig[i], a) < 0) a.push(orig[i]);\n            }\n            return a;\n    }\n\n    function progressConsole(msg) {\n            $('#installProgress .console').append('<p>' + msg + '</p>');\n            $('#installProgress .console').prop({scrollTop: $('#installProgress .console').prop(\"scrollHeight\")});\n    }\n\n    function installNextExtension() {\n            var ext = toInstall[indexCurrentToInstall];\n            $('#installProgress p.status').text(__('Installing extension %s...').replace('%s', ext));\n            progressConsole(__('Installing extension %s...').replace('%s', ext));\n            $.ajax({\n                    type: \"POST\",\n                    url: helpers._url('install', 'ExtensionsManager', 'tao'),\n                    data: 'id='+ext,\n                    dataType: 'json',\n                    success: function(data) {\n                            helpers.loaded();\n                            if (data.success) {\n                                    progressConsole(__('> Extension %s succesfully installed.').replace('%s', ext));\n\n                                    // state that the extension is install in remaining dependencies.\n                                    $('li.ext-id.ext-' + ext).addClass('installed');\n\n                                    $('tr#'+ext).slideUp('normal', function() {\n                                            var $tr = $('<tr></tr>').appendTo($('#extensions-manager-container tbody')).hide();\n                                            var $orig = $('tr#' + ext + ' td');\n                                            $tr.append('<td class=\"bordered\">' + $($orig[0]).text() + '</td>');\n                                            $tr.append('<td class=\"bordered\">' + $($orig[1]).text() + '</td>');\n                                            $tr.append('<td>' + $($orig[2]).text() + '</td>');\n                                            $tr.slideDown('normal', function() {\n                                                    $('tr#' + ext).remove();\n\n                                                    // table changed, restyle.\n                                                    styleTables();\n\n                                                    // If the available extensions table is empty,\n                                                    // just inform the user.\n                                                    if ($('#available-extensions-container table tbody tr').length == 0){\n                                                            noAvailableExtensions();\n                                                    }\n\n                                                    $('#installProgress .bar').animate({width:'+=' + percentByExt + '%'}, 1000, function() {\n                                                            //Next\n                                                            indexCurrentToInstall++;\n                                                            hasNextExtensionToInstall();\n                                                    });\n                                            });\n                                    });\n                            } else {\n                                    installError = 1;\n                                    progressConsole('Installation of ' + ext + ' failed');\n                            }\n                            feedback().info(data.message);\n                    }\n            });\n\n            if (installError) {\n                    progressConsole(__('A fatal error occured during the installation process.'));\n            }\n    }\n\n    function postInstall(){\n        progressConsole(__('Post install processing'));\n        return $.ajax({\n            type: \"GET\",\n            url: helpers._url('postInstall', 'ExtensionsManager', 'tao')\n        });\n    }\n\n    function hasNextExtensionToInstall() {\n            if (indexCurrentToInstall >= toInstall.length) {\n                toInstall = [];\n                $('#installProgress .bar').animate({backgroundColor:'#bb6',width:'100%'}, 1000);\n\n                postInstall().done(function(data) {\n                    helpers.loaded();\n                    $('#installProgress .bar').animate({backgroundColor:'#6b6'}, 1000);\n                    $('#installProgress p.status').text(__('Installation done.'));\n                    progressConsole(__('> Installation done.'));\n                    progressConsole(__('... reloading page.'));\n\n                    setTimeout(function(){\n                        window.location.reload(true);\n                    }, 1000);\n                });\n            } else {\n                installNextExtension();\n            }\n    }\n\n    function styleTables(){\n            // Clean all to make this function able to \"restyle\" after\n            // data refresh.\n            $('#Extensions_manager table tr').removeClass('extensionOdd')\n                                                                             .removeClass('extensionEven');\n\n            $('#Extensions_manager table tr:nth-child(even)').addClass('extensionEven');\n            $('#Extensions_manager table tr:nth-child(odd)').addClass('extensionOdd');\n    }\n\n    function noAvailableExtensions(){\n            var $noAvailableExtElement = $('<div/>');\n            $noAvailableExtElement.attr('id', 'noExtensions')\n                                                      .addClass('ui-state-highlight')\n                                                      .text(__('No extensions available.'));\n\n            $('#available-extensions-container').empty().append($noAvailableExtElement);\n    }\n    \n    return {\n        start : function(){\n            \n            // Table styling.\n            styleTables();\n\n            $('#installProgress').hide();\n\n            //Detect wich extension is already installed\n            $('#extensions-manager-container .ext-id').each(function() {\n                    var ext = $(this).text();\n                    ext_installed.push(ext);\n                    $('.ext-id.ext-' + ext).addClass('installed');\n            });\n\n            $('#available-extensions-container tr input').click(function(event){\n                    event.stopPropagation();\n            });\n\n            $('#available-extensions-container tr input:checkbox').click(function() {\n                    var $installButton = $('#installButton');\n                    if ($(this).parent().parent().parent().find('input:checkbox:checked').length > 0){\n                            $installButton.attr('disabled', false);\n                    }\n                    else{\n                            $installButton.attr('disabled', true);\n                    }\n            });\n\n            $('#available-extensions-container #installButton').click(function(event) {\n                    //Prepare the list of extension to install in the order of dependency\n                    toInstall = [];\n                    $('#available-extensions-container input:checked').each(function() {\n                            var ext = $(this).prop('name').split('_')[1];\n                            var deps = getDependencies(ext);\n                            if (deps.length) {\n                                toInstall = toInstall.concat(deps);\n                            }\n                            toInstall.push(ext);\n                    });\n                    toInstall = getUnique(toInstall);\n                    if (!toInstall.length) {\n                            window.alert(__('Nothing to install !'));\n                            return false;\n                    }\n                    //Let's go\n                    percentByExt = 100 / toInstall.length;\n\n                    //Show the dialog with the result\n                    $('#installProgress p.status').text(__('%s extension(s) to install.').replace('%s', toInstall.length));\n                    $('#installProgress .bar').width(0);\n                    $('#installProgress .console').empty();\n                    progressConsole(__('Do you wish to install the following extension(s):\\n%s?').replace('%s', toInstall.join(', ')));\n                    $('#installProgress').dialog({\n                            modal: true,\n                            width: 400,\n                            height: 300,\n                            buttons: [{\n                                text: __('No'),\n                                click: function() {\n                                        $(this).dialog('close');\n                                }\n                            },{\n                                    text: __('Yes'),\n                                    click: function() {\n                                            //Run the install one by one\n                                            progressConsole(__('Preparing installation...'));\n                                            $('.ui-dialog-buttonpane').remove();\n                                            installError = 0;\n                                            indexCurrentToInstall = 0;\n                                            installNextExtension();\n                                    }\n                                }]\n                    });\n                    event.preventDefault();\n            });\n        }\n    };\n\n});\n\n","/**\n * @author Bertrand Chevrier <bertrand@taotesting.com>\n */\ndefine('tao/controller/users/add',['jquery', 'module', 'helpers', 'users'], function($, module, helpers, users) {\n    'use strict';\n       \n    \n    /**\n     * The user add controller\n     * @exports controller/users/add\n     */    \n    return {\n        start : function(){\n            var conf = module.config();\n            var url  = helpers._url('checkLogin', 'Users', 'tao');\n            users.checkLogin(conf.loginId, url);\n            \n            if(conf.exit === true){\n\n                setTimeout(function(){\n                    //TODO would be better to clean up the form and switch the section\n                    window.location = helpers._url('index', 'Main', 'tao', {structure: 'users', ext : 'tao', section : 'list_users'});\n                }, 1000);\n            }\n        }\n    };\n});\n\n","/**\n * @author Bertrand Chevrier <bertrand@taotesting.com>\n */\ndefine('tao/controller/users/disable-edit',['layout/section'], function(section) {\n    'use strict';\n       \n    /**\n     * Ensure edit section is disabled\n     * @exports controller/users/disable-edit\n     */    \n    return {\n        start : function(){\n            section.get('edit_user').disable();\n        }\n    };\n});\n\n","/**\n * @author Jérôme Bogaert <jerome@taotesting.com>\n * @author Bertrand Chevrier <bertrand@taotesting.com>\n */\ndefine('tao/controller/users/index',['jquery', 'i18n', 'helpers', 'layout/section', 'ui/feedback', 'ui/datatable'], function($, __, helpers, section, feedback) {\n    'use strict';\n\n    /**\n     * Edit a user (shows the edit section)\n     * @param {String} uri - the user uri\n     */\n    var editUser = function editUser(uri) {\n        section\n            .get('edit_user')\n            .enable()\n            .loadContentBlock(helpers._url('edit', 'Users', 'tao'), {uri : uri})\n            .show();\n    };\n\n    /**\n     * Removes a user\n     * @param {String} uri - the user uri\n     */\n\tvar removeUser = function removeUser(uri){\n        //TODO use a confirm component\n        if (window.confirm(__('Please confirm user deletion'))) {\n            $.ajax({\n                url : helpers._url('delete', 'Users', 'tao'),\n                data:  {uri : uri},\n                type : 'POST'\n            }).done(function(response){\n                if(response.deleted){\n                    feedback().success(response.message);\n                } else {\n                    feedback().error(response.message);\n                }\n                $('#user-list').datatable('refresh');\n            });\n        }\n\t};\n\n    /**\n     * The user index controller\n     * @exports controller/users/index\n     */\n    return {\n        start : function(){\n            var $userList = $('#user-list');\n    \n            section.on('show', function(section){\n                if(section.id === 'list_users'){\n                    $userList.datatable('refresh');\n                }\n\n            });\n\n            //initialize the user manager component\n            $userList.datatable({\n                'url': helpers._url('data', 'Users', 'tao'),\n                'actions' : {\n                    'edit': editUser,\n                    'remove': removeUser\n                },\n                'model' : [\n                    {\n                        id : 'login',\n                        label : __('Login'),\n                        sortable : true\n                    },{\n                        id : 'name',\n                        label : __('Name'),\n                        sortable : true\n                    },\n                    {\n                        id : 'email',\n                        label : __('Email'),\n                        sortable : true\n                    },{\n                        id : 'role',\n                        label : __('Roles'),\n                        sortable : false\n                    },{\n                        id : 'dataLg',\n                        label : __('Data Language'),\n                        sortable : true\n                    },{\n                        id: 'guiLg',\n                        label : __('Interface Language'),\n                        sortable : true\n                    }\n                ]\n            });\n        }\n    };\n});\n\n"]}