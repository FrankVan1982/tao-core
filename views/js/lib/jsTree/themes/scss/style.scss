@import "inc/bootstrap";

.tree-actions {
    position: relative;
    span {
        position: absolute;
        left: 100px;
        top: 10px;
        width: 24px;
        height: 24px;
        text-align: center;
        cursor:pointer;
        &.icon-close {
            display: none;
        }
        &:hover {
            color: $info;
        }
    }
}
.tree-custom {
    .ltr, .rtl {
        background: none left top repeat;
        & > li.leaf {
            background-image: none;
        }
    }
    .locked li a {
        color: gray;
    }
    ul {
        background-position: 6px 1px;
        background-repeat: repeat-y;
        background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAAAAAA6fptVAAAACklEQVR42mNoAAAAggCB2kUIOwAAAABJRU5ErkJggg==);
    }
    li {
        background-position: -64px -18px;
        background-repeat: no-repeat;
        background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABAAgMAAADwqRilAAAACVBMVEX///8kbHeAgIB/SOz/AAAAAXRSTlMAQObYZgAAAEVJREFUeNpjYIACBwY4EICzArAJhoQiAH6VWM0cBUDAMUQEuVaMxhWBEMIq2IBNcAHRKom2fVgBplXYQmgVthDSGiwhBAAx4grYHitHZwAAAABJRU5ErkJggg==);
        &.open {
            background-position: -32px -48px;
        }
        &.closed {
            background-position: -48px -32px;
        }

        &.node-class a {
        }

        &.node-draggable a {
        }
        a {
            @include font-size(13);
            padding: 1px 0px;
            &:hover {
                color: $info;
            }
        }
        span.clicked {
            padding: 0px;
        }


        $list: 'item','test','test-taker','group','result','delivery','campaign','result-server','role','process','process-root','activity','activity-initial','activity-last','activity-unique','property','connector','inferenceRule-onBefore','inferenceRule-onAfter','interactive-service','consistencyRule','rule','notification','activity-goto','connector-goto','connector-prev','assignment';

        $icons: 'item','test','subject','group','result','delivery','campaign','result_server','user','process','process-root','process_activity','process_activity_start','process_activity_last','process_activity_unique','process_property','process_connector','process_inferenceRule_before','process_inferenceRule_after','process_service','process_consistency_rule','process_rule','process_notification','process_activity_goto','process_connector_goto','process_connector_prev','process_assignment';

        @each $item in $list {
            $i: index($list, $item);
            $icon: "%icon-" + nth($icons, $i);
//@TODO extend does not work here
            &.node-#{$item} ins:before {
               // @extend #{$icon};
               // background:none !important;
                @extend %tao-icon-setup;
                foo: #{$icon};
                @include icon(nth($icons, $i));
            }
        }

        &.node-draggable a {
            display:block;
            @extend .truncate;
            width: 100%;
        }
        &.paginate {
            padding-left: 12px;
            background-image: none !important;
            display: inline !important;
            a {
                &:hover, &.hover {
                    background: #91c7ff;
                    border: 1px solid blue;
                    padding: 0px;
                    @include font-size(13);
                }
                &.clicked {
                    background: none;
                    border: none;
                }
            }
            span.clicked {
                background: none;
                border: none;
            }
        }
        &.paginate-more ins {
            background-image: url("paginate_more.png");
        }
        &.paginate-all ins {
            background-image: url("paginate_all.png");
        }
    }
    ul li {
        padding-left: 12px;
    }
    .no_dots {
        background: transparent;
        ul {
            background: transparent;
        }
        li.leaf {
            background-image: none;
            background-color: transparent;
        }
    }
    // icons
    ins {
        position: relative;
        left: 2px;
        font-family: 'tao';
        speak: none;
        font-style: normal;
        font-weight: normal;
        font-variant: normal;
        text-transform: none;
        line-height: 1;

        /* Better Font Rendering =========== */
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
        color: #333
    }
    .node-root ins {
        background-image: url("list.png");
    }
    .node-class {
        ins:before {
            @extend %icon-folder;
            top: 1px;
        }
        &.open {
            & ~ ins:before {
                @extend %icon-folder-open;
                top: 2px;
            }
        }
    }
    .node-instance ins {
        background-image: none;
    }
    li {
    }
    ul li a.loading ins {
        background-image: url("throbber.gif") !important;
        background-position: 0 0 !important;
    }
    li a ins.forbidden {
        background-position: -16px -16px;
    }
    .locked li a ins {
        background-position: 0 -48px;
    }
    li span ins {
        background-position: -16px 0;
    }
}

.tree li span.cutted {
    padding: 0px;
}


#jstree-dragged {
    &.tree-custom {
        li li.open {
            background: url("icons.png") -48px -32px no-repeat;
        }
        ins {
            background: url("icons.png") -16px -32px no-repeat;
            &.forbidden {
                background: url("icons.png") -16px -16px no-repeat;
            }
        }
    }
    &.tree-checkbox {
        li li.open {
            background: url("icons.png") -48px -32px no-repeat;
        }
        ins {
            background: url("icons.png") 0 -48px no-repeat;
            &.forbidden {
                background: url("icons.png") -16px -48px no-repeat;
            }
        }
    }
}



#jstree-marker {
    background-image: url("icons.png");
}


.tree-custom-context {
    a ins {
        background-image: url("icons.png");
        /* background-repeat:no-repeat; */
        background-position: -64px -64px;
        &.create {
            background-position: 0 -16px;
        }
        &.rename {
            background-position: -16px 0px;
        }
        &.remove {
            background-position: 0 -32px;
        }
    }
    li a.disabled span {
        color: #b0b0b0;
    }
}

.tree-checkbox {
    .locked li a {
        color: gray;
    }
    ul {
        background-position: 6px 1px;
        background-repeat: repeat-y;
        background-image: url(data:image/gif;base64,R0lGODlhAgACAIAAAB4dGf///yH5BAEAAAEALAAAAAACAAIAAAICRF4AOw==);
    }
    li {
        background-position: -64px -16px;
        background-repeat: no-repeat;
        background-image: url("icons.png");
        &.open {
            background: url("icons.png") -32px -48px no-repeat;
        }
        &.closed {
            background: url("icons.png") -48px -32px no-repeat;
        }
        a, span {
            border-radius: 3px;
            -moz-border-radius: 3px;
            -webkit-border-radius: 3px;
        }
        &.node-root ins {
            background-image: url("icons.png");
            background-position: 0 0;
            background-repeat: no-repeat;
        }
        &.node-class ins {
            background-image: url("class.png");
            background-position: 0 0;
            background-repeat: no-repeat;
        }
        &.node-instance ins {
            background-image: url("icons.png");
            background-position: 0 0;
            background-repeat: no-repeat;
        }

        &.node-instance a {
            ins.forbidden {
                background-position: -16px -48px;
            }
            &.undetermined ins {
                background-position: 0px -16px;
            }
            &.checked ins {
                background-position: 0px -32px;
            }
            &:hover ins {
                background-position: -16px 0px;
            }
            &.undetermined:hover ins {
                background-position: -16px -16px;
            }
            &.checked:hover ins {
                background-position: -16px -32px;
            }
        }
        &.paginate {
            padding-left: 12px;
            background-image: none !important;
            display: inline !important;
        }
        &.paginate-more ins {
            background-image: url("paginate_more.png");
        }
        &.paginate-all ins {
            background-image: url("paginate_all.png");
        }
        &.paginate {
            a {
                &:hover, &.hover {
                    background: #91c7ff;
                    border: 1px solid blue;
                    padding: 0px;
                    @include font-size(15);
                }
                &.clicked {
                    background: none;
                    border: none;
                    &:hover {
                        background: none;
                        border: none;
                    }
                }
            }
            span.clicked {
                background: none;
                border: none;
            }
        }
    }
    .no_dots {
        background: transparent;
        ul {
            background: transparent;
        }
        li.leaf {
            background-image: none;
            background-color: transparent;
        }
    }
}


.tree-checkbox {
    ul li.node-instance a.loading ins {
        background-image: url("throbber.gif") !important;
        background-position: 0 0 !important;
    }
}

.tree-checkbox-context a ins {
    background-image: url("icons.png");
    background-repeat: no-repeat;
    background-position: -64px -64px;
    &.create {
        background-position: 0 -16px;
    }
    &.rename {
        background-position: -16px 0px;
    }
    &.remove {
        background-position: 0 -32px;
    }
}